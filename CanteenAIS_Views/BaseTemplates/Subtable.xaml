<UserControl x:Class="CanteenAIS_Views.BaseTemplates.Subtable"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CanteenAIS_Views.BaseTemplates"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="390" x:Name="root">
    <Grid>
        <GroupBox DockPanel.Dock="Top" Margin="10" Header="{Binding Title, ElementName=root}"
                  Style="{StaticResource DialogGroupBoxStyle}"
                  VerticalAlignment="Stretch">
            <DockPanel>
                <StackPanel x:Name="Buttons" Orientation="Horizontal" DockPanel.Dock="Bottom">
                    <Button x:Name="Add" Content="Добавить" Style="{StaticResource CrudButtonStyle}"
                            Command="{Binding AddCommand, ElementName=root}"
                            IsEnabled="{Binding CanAddSubtable, ElementName=root}"/>
                    <Button x:Name="Edit" Content="Редактировать" Style="{StaticResource CrudButtonStyle}"
                            Command="{Binding EditCommand, ElementName=root}"
                            IsEnabled="{Binding CanEditSubtable, ElementName=root}"/>
                    <Button x:Name="Delete" Content="Удалить" Style="{StaticResource CrudButtonStyle}"
                            Command="{Binding DeleteCommand, ElementName=root}"
                            IsEnabled="{Binding CanEditSubtable, ElementName=root}"/>
                    <Button x:Name="Export" Content="Экспорт" Style="{StaticResource CrudButtonStyle}"
                            Command="{Binding ExportCommand, ElementName=root}"/>
                </StackPanel>
                <DataGrid x:Name="SubGrid" Style="{StaticResource TableDataGridStyle}" Margin="10"
                          AutoGenerateColumns="True"
                          SelectedIndex="{Binding SelectedIndex, ElementName=root}"
                          ItemsSource="{Binding Table, ElementName=root}"
                          AutoGeneratingColumn="DataGrid_AutoGeneratingColumn"
                          SelectionChanged="DataGrid_SelectionChanged"/>
            </DockPanel>
        </GroupBox>
    </Grid>
</UserControl>
